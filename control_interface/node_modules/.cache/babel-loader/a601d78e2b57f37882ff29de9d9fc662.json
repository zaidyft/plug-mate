{"ast":null,"code":"import _createForOfIteratorHelper from \"C:\\\\Users\\\\zeyne\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\plug_mate\\\\control-interface test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nvar _jsxFileName = \"C:\\\\Users\\\\zeyne\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\plug_mate\\\\control-interface test\\\\src\\\\Basic.js\";\n// This is the Monday (2017-12-18) calendar.\nimport React, { Component } from \"react\";\nimport ReactDOM, { render } from 'react-dom';\nimport moment from 'moment';\nimport Scheduler, { SchedulerData, ViewTypes } from \"react-big-scheduler\";\nimport DemoData from './Data.js';\nimport withDragDropContext from \"./withDnDContext\";\nimport \"react-big-scheduler/lib/css/style.css\";\nimport Timepicker from './Timepicker';\nimport Radio from './Radio';\nimport Checkbox from './Checkbox';\nimport './styles.css';\n\nclass Basic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isNonWorkingTime = (schedulerData, time) => {\n      return true;\n    };\n\n    this.getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\n      return moment(\"2017-12-18 07:00:00\");\n    };\n\n    this.eventClicked = (schedulerData, event) => {\n      function okButtonClicked() {\n        // Format schedule name\n        var schedule = document.getElementById(\"schedule_name\").value;\n        var start = document.getElementById(\"start\").value;\n        var end = document.getElementById(\"end\").value;\n        var formattedstart = \"\";\n\n        if (start.length === 7) {\n          formattedstart = \"0\" + start;\n        } else {\n          formattedstart = start;\n        }\n\n        var formattedend = \"\";\n\n        if (end.length === 7) {\n          formattedend = \"0\" + end;\n        } else {\n          formattedend = end;\n        } // Format start time\n\n\n        if (start.length === 7) {\n          start = \"0\" + start;\n        }\n\n        if (start.includes(\"AM\")) {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\n          }\n        } // Format end time\n\n\n        if (end.length === 7) {\n          end = \"0\" + end;\n        }\n\n        if (end.includes(\"AM\")) {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\n          }\n        } // Checking conflicts\n\n\n        var hasConflict = false;\n        var conflictedEvents = [];\n        var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n        var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n        var days_to_loop_over = [\"2017-12-18\"];\n\n        if (repeat_option === \"Every Day\") {\n          days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\n        }\n\n        schedulerData.events.forEach(function (e) {\n          var eStart = e.start;\n          var eEnd = e.end;\n          var start_for_this = \"\";\n          var end_for_this = \"\";\n\n          var _iterator = _createForOfIteratorHelper(days_to_loop_over),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var day = _step.value;\n\n              if (e.resourceId === event.resourceId) {\n                start_for_this = day + start.substring(10, 19);\n                end_for_this = day + end.substring(10, 19);\n\n                if ((start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) && e.id !== event.id) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n              }\n\n              var _iterator2 = _createForOfIteratorHelper(plugload_option),\n                  _step2;\n\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  var plugload = _step2.value;\n\n                  if (e.resourceId === plugload.value) {\n                    start_for_this = day + start.substring(10, 19);\n                    end_for_this = day + end.substring(10, 19);\n\n                    if (start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) {\n                      hasConflict = true;\n                      conflictedEvents.push(e);\n                    }\n                  }\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }); // If there is a conflict, show alert and do nothing. Otherwise, make the changes.\n\n        if (hasConflict) {\n          var message = \"Conflict occurred for the following events:\\n\";\n          var day = \"\";\n\n          var _iterator3 = _createForOfIteratorHelper(conflictedEvents),\n              _step3;\n\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var events = _step3.value;\n\n              if (event.start.toString().includes(\"2017-12-18\")) {\n                day = \"Monday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-19\")) {\n                day = \"Tuesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-20\")) {\n                day = \"Wednesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-21\")) {\n                day = \"Thursday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-22\")) {\n                day = \"Friday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-23\")) {\n                day = \"Saturday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-24\")) {\n                day = \"Sunday\";\n              }\n\n              var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name;\n              message += \"\\n- \".concat(events.title, \" for \").concat(current_plugload_conflicted, \" on \").concat(day);\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n\n          alert(message);\n        } else {\n          event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n          schedulerData.updateEventStart(event, start);\n          schedulerData.updateEventEnd(event, end);\n          var rrule = \"\";\n\n          if (repeat_option === \"Every Day\") {\n            event.rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n            rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n          } else {\n            var name = event.title;\n            var new_start = event.start;\n            var new_end = event.end;\n            var new_slot = event.resourceId;\n            schedulerData.removeEvent(event);\n            let newFreshId = 0;\n            schedulerData.events.forEach(item => {\n              if (item.id >= newFreshId) newFreshId = item.id + 1;\n            });\n            let newEvent = {\n              id: newFreshId,\n              title: name,\n              start: new_start,\n              end: new_end,\n              resourceId: new_slot,\n              bgColor: \"#47FF38\",\n              showPopover: false,\n              rrule: \"\"\n            };\n            schedulerData.addEvent(newEvent);\n            DemoData.events = schedulerData.events;\n            setTimeout(function () {\n              document.getElementById(\"MondayCalendar\").click();\n            }, 1);\n          }\n\n          var _iterator4 = _createForOfIteratorHelper(plugload_option),\n              _step4;\n\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var plugload = _step4.value;\n              let newFreshId = 0;\n              schedulerData.events.forEach(item => {\n                if (item.id >= newFreshId) newFreshId = item.id + 1;\n              });\n              let newEvent = {\n                id: newFreshId,\n                title: event.title,\n                start: moment(start),\n                end: moment(end),\n                resourceId: plugload.value,\n                bgColor: \"#47FF38\",\n                showPopover: false,\n                rrule: rrule\n              };\n              schedulerData.addEvent(newEvent);\n              DemoData.events = schedulerData.events;\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n\n          if (start >= end || end <= start) {\n            alert(\"Check your timings! Start time should be before end time.\");\n          } else {\n            // Update displayed calendar\n            window.mondayCalendar.setState({\n              viewModel: schedulerData\n            });\n          } // Remove popup\n\n\n          ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n      }\n\n      function closeButtonClicked() {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      function deleteButtonClicked() {\n        schedulerData.removeEvent(event);\n        DemoData.events = schedulerData.events;\n        window.mondayCalendar.setState({\n          viewModel: schedulerData\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      var resourceName = schedulerData.getSlotById(event.resourceId).name;\n      render( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cover\",\n        id: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerpopup\",\n        id: \"schedule_popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"schedule_name\",\n        type: \"text\",\n        name: \"title\",\n        defaultValue: event.title.substring(0, event.title.length - 22),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"close_button\",\n        style: {\n          float: \"right\"\n        },\n        onClick: closeButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 17\n        }\n      }, \"x\"), /*#__PURE__*/React.createElement(Timepicker, {\n        defaultStart: moment(event.start),\n        defaultEnd: moment(event.end),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 17\n        }\n      }), event.rrule === \"\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 40\n        }\n      }), event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 98\n        }\n      }), resourceName === \"Desktop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Monitor\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 50\n        }\n      }), resourceName === \"Monitor\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 50\n        }\n      }), resourceName === \"Laptop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 49\n        }\n      }), resourceName === \"Task Lamp\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 52\n        }\n      }), resourceName === \"Fan\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Task Lamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: deleteButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#e74a3b\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 19\n        }\n      }, \" Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: okButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#1cc88a\",\n          marginLeft: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 19\n        }\n      }, \" OK \")))), document.getElementById(\"popup-container-schedule\"));\n    };\n\n    this.newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\n      let newFreshId = 0;\n      schedulerData.events.forEach(item => {\n        if (item.id >= newFreshId) newFreshId = item.id + 1;\n      });\n      let newEvent = {\n        id: newFreshId,\n        title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\n        start: start,\n        end: end,\n        resourceId: slotId,\n        bgColor: \"#47FF38\",\n        showPopover: false,\n        rrule: \"\"\n      }; //schedulerData.addEvent(newEvent);\n      //DemoData.events = schedulerData.events\n\n      function okButtonClicked() {\n        // Update schedule name\n        var schedule = document.getElementById(\"schedule_name\").value;\n        var start = document.getElementById(\"start\").value;\n        var end = document.getElementById(\"end\").value;\n        var formattedstart = \"\";\n\n        if (start.length === 7) {\n          formattedstart = \"0\" + start;\n        } else {\n          formattedstart = start;\n        }\n\n        var formattedend = \"\";\n\n        if (end.length === 7) {\n          formattedend = \"0\" + end;\n        } else {\n          formattedend = end;\n        } // Update start time\n\n\n        if (start.length === 7) {\n          start = \"0\" + start;\n        }\n\n        if (start.includes(\"AM\")) {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\n          }\n        } // Update end time\n\n\n        if (end.length === 7) {\n          end = \"0\" + end;\n        }\n\n        if (end.includes(\"AM\")) {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\n          }\n        } // Checking conflicts\n\n\n        var hasConflict = false;\n        var conflictedEvents = [];\n        var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n        var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n        var days_to_loop_over = [\"2017-12-18\"];\n\n        if (repeat_option === \"Every Day\") {\n          days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\n        }\n\n        schedulerData.events.forEach(function (e) {\n          var eStart = e.start;\n          var eEnd = e.end;\n          var start_for_this = \"\";\n          var end_for_this = \"\";\n\n          var _iterator5 = _createForOfIteratorHelper(days_to_loop_over),\n              _step5;\n\n          try {\n            for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n              var day = _step5.value;\n\n              if (e.resourceId === newEvent.resourceId) {\n                start_for_this = day + start.substring(10, 19);\n                end_for_this = day + end.substring(10, 19);\n\n                if ((start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) && e.id !== newEvent.id) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n              }\n\n              var _iterator6 = _createForOfIteratorHelper(plugload_option),\n                  _step6;\n\n              try {\n                for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                  var plugload = _step6.value;\n\n                  if (e.resourceId === plugload.value) {\n                    start_for_this = day + start.substring(10, 19);\n                    end_for_this = day + end.substring(10, 19);\n\n                    if (start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) {\n                      hasConflict = true;\n                      conflictedEvents.push(e);\n                    }\n                  }\n                }\n              } catch (err) {\n                _iterator6.e(err);\n              } finally {\n                _iterator6.f();\n              }\n            }\n          } catch (err) {\n            _iterator5.e(err);\n          } finally {\n            _iterator5.f();\n          }\n        }); // If there is a conflict, show alert and do nothing.\n\n        if (hasConflict) {\n          var message = \"Conflict occurred for the following events:\"; // Change this message accordingly\n\n          var day = \"\";\n\n          var _iterator7 = _createForOfIteratorHelper(conflictedEvents),\n              _step7;\n\n          try {\n            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n              var events = _step7.value;\n\n              if (event.start.toString().includes(\"2017-12-18\")) {\n                day = \"Monday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-19\")) {\n                day = \"Tuesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-20\")) {\n                day = \"Wednesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-21\")) {\n                day = \"Thursday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-22\")) {\n                day = \"Friday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-23\")) {\n                day = \"Saturday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-24\")) {\n                day = \"Sunday\";\n              }\n\n              var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name;\n              message += \"\\n- \".concat(events.title, \" for \").concat(current_plugload_conflicted, \" on \").concat(day);\n            }\n          } catch (err) {\n            _iterator7.e(err);\n          } finally {\n            _iterator7.f();\n          }\n\n          alert(message);\n        } else {\n          newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n          schedulerData.updateEventStart(newEvent, start);\n          schedulerData.updateEventEnd(newEvent, end);\n          var rrule = \"\";\n\n          if (repeat_option === \"Every Day\") {\n            newEvent.rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n            rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n          } else {\n            var name = newEvent.title;\n            var new_start = newEvent.start;\n            var new_end = newEvent.end;\n            var new_slot = newEvent.resourceId;\n            schedulerData.removeEvent(newEvent);\n            let anotherFreshId = 0;\n            schedulerData.events.forEach(item => {\n              if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\n            });\n            let anotherNewEvent = {\n              id: anotherFreshId,\n              title: name,\n              start: new_start,\n              end: new_end,\n              resourceId: new_slot,\n              bgColor: \"#47FF38\",\n              showPopover: false,\n              rrule: \"\"\n            };\n            schedulerData.addEvent(anotherNewEvent);\n            DemoData.events = schedulerData.events;\n            setTimeout(function () {\n              document.getElementById(\"MondayCalendar\").click();\n            }, 1);\n          }\n\n          var _iterator8 = _createForOfIteratorHelper(plugload_option),\n              _step8;\n\n          try {\n            for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n              var plugload = _step8.value;\n              console.log(plugload);\n              let newFreshId_plugload = 0;\n              schedulerData.events.forEach(item => {\n                if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\n              });\n              let newEvent_plugload = {\n                id: newFreshId_plugload,\n                title: newEvent.title,\n                start: moment(start),\n                end: moment(end),\n                resourceId: plugload.value,\n                bgColor: \"#47ff38\",\n                showPopover: false,\n                rrule: rrule\n              };\n              schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\n\n              DemoData.events = schedulerData.events;\n            }\n          } catch (err) {\n            _iterator8.e(err);\n          } finally {\n            _iterator8.f();\n          }\n\n          if (start >= end || end <= start) {\n            alert(\"Check your timings! Start time should be before end time.\");\n          } else {\n            // Update displayed calendar\n            window.mondayCalendar.setState({\n              viewModel: schedulerData\n            });\n          } // Remove popup\n\n\n          ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n      }\n\n      function closeButtonClicked() {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      function deleteButtonClicked() {\n        schedulerData.removeEvent(newEvent);\n        DemoData.events = schedulerData.events;\n        window.mondayCalendar.setState({\n          viewModel: schedulerData\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      var resourceName = schedulerData.getSlotById(newEvent.resourceId).name;\n      render( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cover\",\n        id: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerpopup\",\n        id: \"schedule_popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"schedule_name\",\n        type: \"text\",\n        name: \"title\",\n        defaultValue: newEvent.title.substring(0, newEvent.title.length - 22),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"close_button\",\n        style: {\n          float: \"right\"\n        },\n        onClick: closeButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 17\n        }\n      }, \"x\"), /*#__PURE__*/React.createElement(Timepicker, {\n        defaultStart: moment(newEvent.start),\n        defaultEnd: moment(newEvent.end),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 17\n        }\n      }), newEvent.rrule === \"\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 43\n        }\n      }), newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 101\n        }\n      }), resourceName === \"Desktop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Monitor\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 50\n        }\n      }), resourceName === \"Monitor\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 50\n        }\n      }), resourceName === \"Laptop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 49\n        }\n      }), resourceName === \"Task Lamp\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 52\n        }\n      }), resourceName === \"Fan\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Task Lamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: deleteButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#e74a3b\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 19\n        }\n      }, \" Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: okButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#1cc88a\",\n          marginLeft: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 19\n        }\n      }, \" OK \")))), document.getElementById(\"popup-container-schedule\"));\n    };\n\n    this.updateEventStart = (schedulerData, event, newStart) => {\n      function okButtonClicked() {\n        // Update schedule name\n        var schedule = document.getElementById(\"schedule_name\").value;\n        var start = document.getElementById(\"start\").value;\n        var end = document.getElementById(\"end\").value;\n        var formattedstart = \"\";\n\n        if (start.length === 7) {\n          formattedstart = \"0\" + start;\n        } else {\n          formattedstart = start;\n        }\n\n        var formattedend = \"\";\n\n        if (end.length === 7) {\n          formattedend = \"0\" + end;\n        } else {\n          formattedend = end;\n        } // Update start time\n\n\n        if (start.length === 7) {\n          start = \"0\" + start;\n        }\n\n        if (start.includes(\"AM\")) {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\n          }\n        } // Update end time\n\n\n        if (end.length === 7) {\n          end = \"0\" + end;\n        }\n\n        if (end.includes(\"AM\")) {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\n          }\n        } // Checking conflicts\n\n\n        var hasConflict = false;\n        var conflictedEvents = [];\n        var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n        var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n        var days_to_loop_over = [\"2017-12-18\"];\n\n        if (repeat_option === \"Every Day\") {\n          days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\n        }\n\n        schedulerData.events.forEach(function (e) {\n          var eStart = e.start;\n          var eEnd = e.end;\n          var start_for_this = \"\";\n          var end_for_this = \"\";\n\n          var _iterator9 = _createForOfIteratorHelper(days_to_loop_over),\n              _step9;\n\n          try {\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n              var day = _step9.value;\n\n              if (e.resourceId === event.resourceId) {\n                start_for_this = day + start.substring(10, 19);\n                end_for_this = day + end.substring(10, 19);\n\n                if ((start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) && e.id !== event.id) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n              }\n\n              var _iterator10 = _createForOfIteratorHelper(plugload_option),\n                  _step10;\n\n              try {\n                for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                  var plugload = _step10.value;\n\n                  if (e.resourceId === plugload.value) {\n                    start_for_this = day + start.substring(10, 19);\n                    end_for_this = day + end.substring(10, 19);\n\n                    if (start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) {\n                      hasConflict = true;\n                      conflictedEvents.push(e);\n                    }\n                  }\n                }\n              } catch (err) {\n                _iterator10.e(err);\n              } finally {\n                _iterator10.f();\n              }\n            }\n          } catch (err) {\n            _iterator9.e(err);\n          } finally {\n            _iterator9.f();\n          }\n        }); // If there is a conflict, show alert and do nothing.\n\n        if (hasConflict) {\n          var message = \"Conflict occurred for the following events:\\n\";\n          var day = \"\";\n\n          var _iterator11 = _createForOfIteratorHelper(conflictedEvents),\n              _step11;\n\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              var events = _step11.value;\n\n              if (event.start.toString().includes(\"2017-12-18\")) {\n                day = \"Monday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-19\")) {\n                day = \"Tuesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-20\")) {\n                day = \"Wednesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-21\")) {\n                day = \"Thursday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-22\")) {\n                day = \"Friday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-23\")) {\n                day = \"Saturday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-24\")) {\n                day = \"Sunday\";\n              }\n\n              var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name;\n              message += \"\\n- \".concat(events.title, \" for \").concat(current_plugload_conflicted, \" on \").concat(day);\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n\n          alert(message);\n        } else {\n          event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n          schedulerData.updateEventStart(event, start);\n          schedulerData.updateEventEnd(event, end);\n          var rrule = \"\";\n\n          if (repeat_option === \"Every Day\") {\n            event.rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n            rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n          } else {\n            var name = event.title;\n            var new_start = event.start;\n            var new_end = event.end;\n            var new_slot = event.resourceId;\n            schedulerData.removeEvent(event);\n            let newFreshId = 0;\n            schedulerData.events.forEach(item => {\n              if (item.id >= newFreshId) newFreshId = item.id + 1;\n            });\n            let newEvent = {\n              id: newFreshId,\n              title: name,\n              start: new_start,\n              end: new_end,\n              resourceId: new_slot,\n              bgColor: \"#47FF38\",\n              showPopover: false,\n              rrule: \"\"\n            };\n            schedulerData.addEvent(newEvent);\n            DemoData.events = schedulerData.events;\n            setTimeout(function () {\n              document.getElementById(\"MondayCalendar\").click();\n            }, 1);\n          }\n\n          var _iterator12 = _createForOfIteratorHelper(plugload_option),\n              _step12;\n\n          try {\n            for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n              var plugload = _step12.value;\n              let newFreshId = 0;\n              schedulerData.events.forEach(item => {\n                if (item.id >= newFreshId) newFreshId = item.id + 1;\n              });\n              let newEvent = {\n                id: newFreshId,\n                title: event.title,\n                start: moment(start),\n                end: moment(end),\n                resourceId: plugload.value,\n                bgColor: \"#47ff38\",\n                showPopover: false,\n                rrule: rrule\n              };\n              schedulerData.addEvent(newEvent); // Check why new event disappears\n\n              DemoData.events = schedulerData.events;\n            }\n          } catch (err) {\n            _iterator12.e(err);\n          } finally {\n            _iterator12.f();\n          }\n\n          if (start >= end || end <= start) {\n            alert(\"Check your timings! Start time should be before end time.\");\n          } else {\n            // Update displayed calendar\n            window.mondayCalendar.setState({\n              viewModel: schedulerData\n            });\n          } // Remove popup\n\n\n          ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n      }\n\n      function closeButtonClicked() {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      function deleteButtonClicked() {\n        schedulerData.removeEvent(event);\n        DemoData.events = schedulerData.events;\n        window.mondayCalendar.setState({\n          viewModel: schedulerData\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      var resourceName = schedulerData.getSlotById(event.resourceId).name;\n      render( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cover\",\n        id: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerpopup\",\n        id: \"schedule_popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"schedule_name\",\n        type: \"text\",\n        name: \"title\",\n        defaultValue: event.title.substring(0, event.title.length - 22),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"close_button\",\n        style: {\n          float: \"right\"\n        },\n        onClick: closeButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 17\n        }\n      }, \"x\"), /*#__PURE__*/React.createElement(Timepicker, {\n        defaultStart: moment(newStart),\n        defaultEnd: moment(event.end),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 17\n        }\n      }), event.rrule === \"\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 40\n        }\n      }), event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 98\n        }\n      }), resourceName === \"Desktop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Monitor\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 50\n        }\n      }), resourceName === \"Monitor\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 50\n        }\n      }), resourceName === \"Laptop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 49\n        }\n      }), resourceName === \"Task Lamp\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 52\n        }\n      }), resourceName === \"Fan\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Task Lamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: deleteButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#e74a3b\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 19\n        }\n      }, \" Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: okButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#1cc88a\",\n          marginLeft: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 19\n        }\n      }, \" OK \")))), document.getElementById(\"popup-container-schedule\"));\n    };\n\n    this.updateEventEnd = (schedulerData, event, newEnd) => {\n      function okButtonClicked() {\n        // Update schedule name\n        var schedule = document.getElementById(\"schedule_name\").value;\n        var start = document.getElementById(\"start\").value;\n        var end = document.getElementById(\"end\").value;\n        var formattedstart = \"\";\n\n        if (start.length === 7) {\n          formattedstart = \"0\" + start;\n        } else {\n          formattedstart = start;\n        }\n\n        var formattedend = \"\";\n\n        if (end.length === 7) {\n          formattedend = \"0\" + end;\n        } else {\n          formattedend = end;\n        } // Update start time\n\n\n        if (start.length === 7) {\n          start = \"0\" + start;\n        }\n\n        if (start.includes(\"AM\")) {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\n          }\n        } // Update end time\n\n\n        if (end.length === 7) {\n          end = \"0\" + end;\n        }\n\n        if (end.includes(\"AM\")) {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\n          }\n        } // Checking conflicts\n\n\n        var hasConflict = false;\n        var conflictedEvents = [];\n        var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n        var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n        var days_to_loop_over = [\"2017-12-18\"];\n\n        if (repeat_option === \"Every Day\") {\n          days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\n        }\n\n        schedulerData.events.forEach(function (e) {\n          var eStart = e.start;\n          var eEnd = e.end;\n          var start_for_this = \"\";\n          var end_for_this = \"\";\n\n          var _iterator13 = _createForOfIteratorHelper(days_to_loop_over),\n              _step13;\n\n          try {\n            for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n              var day = _step13.value;\n\n              if (e.resourceId === event.resourceId) {\n                start_for_this = day + start.substring(10, 19);\n                end_for_this = day + end.substring(10, 19);\n\n                if ((start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) && e.id !== event.id) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n              }\n\n              var _iterator14 = _createForOfIteratorHelper(plugload_option),\n                  _step14;\n\n              try {\n                for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n                  var plugload = _step14.value;\n                  start_for_this = day + start.substring(10, 19);\n                  end_for_this = day + end.substring(10, 19);\n\n                  if (e.resourceId === plugload.value) {\n                    if (start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) {\n                      hasConflict = true;\n                      conflictedEvents.push(e);\n                    }\n                  }\n                }\n              } catch (err) {\n                _iterator14.e(err);\n              } finally {\n                _iterator14.f();\n              }\n            }\n          } catch (err) {\n            _iterator13.e(err);\n          } finally {\n            _iterator13.f();\n          }\n        }); // If there is a conflict, show alert and do nothing.\n\n        if (hasConflict) {\n          var message = \"Conflict occurred for the following events:\"; // Change this message accordingly\n\n          var day = \"\";\n\n          var _iterator15 = _createForOfIteratorHelper(conflictedEvents),\n              _step15;\n\n          try {\n            for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n              var events = _step15.value;\n\n              if (event.start.toString().includes(\"2017-12-18\")) {\n                day = \"Monday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-19\")) {\n                day = \"Tuesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-20\")) {\n                day = \"Wednesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-21\")) {\n                day = \"Thursday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-22\")) {\n                day = \"Friday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-23\")) {\n                day = \"Saturday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-24\")) {\n                day = \"Sunday\";\n              }\n\n              var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name;\n              message += \"\\n- \".concat(events.title, \" for \").concat(current_plugload_conflicted, \" on \").concat(day);\n            }\n          } catch (err) {\n            _iterator15.e(err);\n          } finally {\n            _iterator15.f();\n          }\n\n          alert(message);\n        } else {\n          event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n          schedulerData.updateEventStart(event, start);\n          schedulerData.updateEventEnd(event, end);\n          var rrule = \"\";\n\n          if (repeat_option === \"Every Day\") {\n            event.rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n            rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n          } else {\n            var name = event.title;\n            var new_start = event.start;\n            var new_end = event.end;\n            var new_slot = event.resourceId;\n            schedulerData.removeEvent(event);\n            let newFreshId = 0;\n            schedulerData.events.forEach(item => {\n              if (item.id >= newFreshId) newFreshId = item.id + 1;\n            });\n            let newEvent = {\n              id: newFreshId,\n              title: name,\n              start: new_start,\n              end: new_end,\n              resourceId: new_slot,\n              bgColor: \"#47FF38\",\n              showPopover: false,\n              rrule: \"\"\n            };\n            schedulerData.addEvent(newEvent);\n            DemoData.events = schedulerData.events;\n            setTimeout(function () {\n              document.getElementById(\"MondayCalendar\").click();\n            }, 1);\n          }\n\n          var _iterator16 = _createForOfIteratorHelper(plugload_option),\n              _step16;\n\n          try {\n            for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n              var plugload = _step16.value;\n              let newFreshId = 0;\n              schedulerData.events.forEach(item => {\n                if (item.id >= newFreshId) newFreshId = item.id + 1;\n              });\n              let newEvent = {\n                id: newFreshId,\n                title: event.title,\n                start: moment(start),\n                end: moment(end),\n                resourceId: plugload.value,\n                bgColor: \"#47ff38\",\n                showPopover: false,\n                rrule: rrule\n              };\n              schedulerData.addEvent(newEvent); // Check why new event disappears\n\n              DemoData.events = schedulerData.events;\n            }\n          } catch (err) {\n            _iterator16.e(err);\n          } finally {\n            _iterator16.f();\n          }\n\n          if (start >= end || end <= start) {\n            alert(\"Check your timings! Start time should be before end time.\");\n          } else {\n            // Update displayed calendar\n            window.mondayCalendar.setState({\n              viewModel: schedulerData\n            });\n          } // Remove popup\n\n\n          ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n      }\n\n      function closeButtonClicked() {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      function deleteButtonClicked() {\n        schedulerData.removeEvent(event);\n        DemoData.events = schedulerData.events;\n        window.mondayCalendar.setState({\n          viewModel: schedulerData\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      var resourceName = schedulerData.getSlotById(event.resourceId).name;\n      render( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cover\",\n        id: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerpopup\",\n        id: \"schedule_popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1128,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"schedule_name\",\n        type: \"text\",\n        name: \"title\",\n        defaultValue: event.title.substring(0, event.title.length - 22),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1129,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"close_button\",\n        style: {\n          float: \"right\"\n        },\n        onClick: closeButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 17\n        }\n      }, \"x\"), /*#__PURE__*/React.createElement(Timepicker, {\n        defaultStart: moment(event.start),\n        defaultEnd: moment(newEnd),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1131,\n          columnNumber: 17\n        }\n      }), event.rrule === \"\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 40\n        }\n      }), event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1133,\n          columnNumber: 98\n        }\n      }), resourceName === \"Desktop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Monitor\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 50\n        }\n      }), resourceName === \"Monitor\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 50\n        }\n      }), resourceName === \"Laptop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 49\n        }\n      }), resourceName === \"Task Lamp\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 52\n        }\n      }), resourceName === \"Fan\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Task Lamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1166,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1173,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1174,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1175,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: deleteButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#e74a3b\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 19\n        }\n      }, \" Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: okButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#1cc88a\",\n          marginLeft: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1177,\n          columnNumber: 19\n        }\n      }, \" OK \")))), document.getElementById(\"popup-container-schedule\"));\n    };\n\n    this.moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\n      function okButtonClicked() {\n        // Update schedule name\n        var schedule = document.getElementById(\"schedule_name\").value;\n        var start = document.getElementById(\"start\").value;\n        var end = document.getElementById(\"end\").value;\n        var formattedstart = \"\";\n\n        if (start.length === 7) {\n          formattedstart = \"0\" + start;\n        } else {\n          formattedstart = start;\n        }\n\n        var formattedend = \"\";\n\n        if (end.length === 7) {\n          formattedend = \"0\" + end;\n        } else {\n          formattedend = end;\n        } // Update start time\n\n\n        if (start.length === 7) {\n          start = \"0\" + start;\n        }\n\n        if (start.includes(\"AM\")) {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (start.substring(0, 2) === \"12\") {\n            start = \"2017-12-18 \" + start.substring(0, 5) + \":00\";\n          } else {\n            start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\n          }\n        } // Update end time\n\n\n        if (end.length === 7) {\n          end = \"0\" + end;\n        }\n\n        if (end.includes(\"AM\")) {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          }\n        } else {\n          if (end.substring(0, 2) === \"12\") {\n            end = \"2017-12-18 \" + end.substring(0, 5) + \":00\";\n          } else {\n            end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\n          }\n        } // Checking conflicts\n\n\n        var hasConflict = false;\n        var conflictedEvents = [];\n        var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n        var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n        var days_to_loop_over = [\"2017-12-18\"];\n\n        if (repeat_option === \"Every Day\") {\n          days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\n        }\n\n        schedulerData.events.forEach(function (e) {\n          var eStart = e.start;\n          var eEnd = e.end;\n          var start_for_this = \"\";\n          var end_for_this = \"\";\n\n          var _iterator17 = _createForOfIteratorHelper(days_to_loop_over),\n              _step17;\n\n          try {\n            for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n              var day = _step17.value;\n\n              if (e.resourceId === event.resourceId) {\n                start_for_this = day + start.substring(10, 19);\n                end_for_this = day + end.substring(10, 19);\n\n                if ((start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) && e.id !== event.id) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n              }\n\n              var _iterator18 = _createForOfIteratorHelper(plugload_option),\n                  _step18;\n\n              try {\n                for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n                  var plugload = _step18.value;\n                  start_for_this = day + start.substring(10, 19);\n                  end_for_this = day + end.substring(10, 19);\n\n                  if (e.resourceId === plugload.value) {\n                    if (start_for_this >= eStart && start_for_this < eEnd || end_for_this > eStart && end_for_this <= eEnd || eStart >= start_for_this && eStart < end_for_this || eEnd > start_for_this && eEnd <= end_for_this) {\n                      hasConflict = true;\n                      conflictedEvents.push(e);\n                    }\n                  }\n                }\n              } catch (err) {\n                _iterator18.e(err);\n              } finally {\n                _iterator18.f();\n              }\n            }\n          } catch (err) {\n            _iterator17.e(err);\n          } finally {\n            _iterator17.f();\n          }\n        }); // If there is a conflict, show alert and do nothing.\n\n        if (hasConflict) {\n          var message = \"Conflict occurred for the following events:\"; // Change this message accordingly\n\n          var day = \"\";\n\n          var _iterator19 = _createForOfIteratorHelper(conflictedEvents),\n              _step19;\n\n          try {\n            for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n              var events = _step19.value;\n\n              if (event.start.toString().includes(\"2017-12-18\")) {\n                day = \"Monday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-19\")) {\n                day = \"Tuesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-20\")) {\n                day = \"Wednesday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-21\")) {\n                day = \"Thursday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-22\")) {\n                day = \"Friday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-23\")) {\n                day = \"Saturday\";\n              }\n\n              if (event.start.toString().includes(\"2017-12-24\")) {\n                day = \"Sunday\";\n              }\n\n              var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name;\n              message += \"\\n- \".concat(events.title, \" for \").concat(current_plugload_conflicted, \" on \").concat(day);\n            }\n          } catch (err) {\n            _iterator19.e(err);\n          } finally {\n            _iterator19.f();\n          }\n\n          alert(message);\n        } else {\n          event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n          schedulerData.updateEventStart(event, start);\n          schedulerData.updateEventEnd(event, end);\n          var rrule = \"\";\n\n          if (repeat_option === \"Every Day\") {\n            event.rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n            rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\";\n          } else {\n            var name = event.title;\n            var new_start = event.start;\n            var new_end = event.end;\n            var new_slot = event.resourceId;\n            schedulerData.removeEvent(event);\n            let newFreshId = 0;\n            schedulerData.events.forEach(item => {\n              if (item.id >= newFreshId) newFreshId = item.id + 1;\n            });\n            let newEvent = {\n              id: newFreshId,\n              title: name,\n              start: new_start,\n              end: new_end,\n              resourceId: new_slot,\n              bgColor: \"#47FF38\",\n              showPopover: false,\n              rrule: \"\"\n            };\n            schedulerData.addEvent(newEvent);\n            DemoData.events = schedulerData.events;\n            setTimeout(function () {\n              document.getElementById(\"MondayCalendar\").click();\n            }, 1);\n          }\n\n          var _iterator20 = _createForOfIteratorHelper(plugload_option),\n              _step20;\n\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var plugload = _step20.value;\n              let newFreshId = 0;\n              schedulerData.events.forEach(item => {\n                if (item.id >= newFreshId) newFreshId = item.id + 1;\n              });\n              let newEvent = {\n                id: newFreshId,\n                title: event.title,\n                start: moment(start),\n                end: moment(end),\n                resourceId: plugload.value,\n                bgColor: \"#47ff38\",\n                showPopover: false,\n                rrule: rrule\n              };\n              schedulerData.addEvent(newEvent); // Check why new event disappears\n\n              DemoData.events = schedulerData.events;\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n\n          if (start >= end || end <= start) {\n            alert(\"Check your timings! Start time should be before end time.\");\n          } else {\n            // Update displayed calendar\n            window.mondayCalendar.setState({\n              viewModel: schedulerData\n            });\n          } // Remove popup\n\n\n          ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n      }\n\n      function closeButtonClicked() {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      function deleteButtonClicked() {\n        schedulerData.removeEvent(event);\n        DemoData.events = schedulerData.events;\n        window.mondayCalendar.setState({\n          viewModel: schedulerData\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n\n      var resourceName = schedulerData.getSlotById(event.resourceId).name;\n      render( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cover\",\n        id: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1399,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerpopup\",\n        id: \"schedule_popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1400,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"schedule_name\",\n        type: \"text\",\n        name: \"title\",\n        defaultValue: event.title.substring(0, event.title.length - 22),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1401,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"close_button\",\n        style: {\n          float: \"right\"\n        },\n        onClick: closeButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1402,\n          columnNumber: 17\n        }\n      }, \"x\"), /*#__PURE__*/React.createElement(Timepicker, {\n        defaultStart: moment(start),\n        defaultEnd: moment(end),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1403,\n          columnNumber: 17\n        }\n      }), event.rrule === \"\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1404,\n          columnNumber: 40\n        }\n      }), event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && /*#__PURE__*/React.createElement(Radio, {\n        name: \"Repeat:\",\n        day: \"Monday\",\n        default: \"Every Day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 98\n        }\n      }), resourceName === \"Desktop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Monitor\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1406,\n          columnNumber: 50\n        }\n      }), resourceName === \"Monitor\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Laptop\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1414,\n          columnNumber: 50\n        }\n      }), resourceName === \"Laptop\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Task Lamp\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 49\n        }\n      }), resourceName === \"Task Lamp\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Fan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 52\n        }\n      }), resourceName === \"Fan\" && /*#__PURE__*/React.createElement(Checkbox, {\n        name: \"Plug Loads\",\n        option1: \"Desktop\",\n        option2: \"Monitor\",\n        option3: \"Laptop\",\n        option4: \"Task Lamp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: deleteButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#e74a3b\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1448,\n          columnNumber: 19\n        }\n      }, \" Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: okButtonClicked,\n        style: {\n          color: \"white\",\n          background: \"#1cc88a\",\n          marginLeft: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 19\n        }\n      }, \" OK \")))), document.getElementById(\"popup-container-schedule\"));\n    };\n\n    this.conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\n      var message = \"This is conflicting with a schedule set for \".concat(slotName, \".\");\n      alert(message);\n    };\n\n    let _schedulerData = new SchedulerData(\"2017-12-18\", ViewTypes.Day, false, false, {\n      checkConflict: true,\n      recurringEventsEnabled: true,\n      scrollToSpecialMomentEnabled: true,\n      // Allow automatic scroll\n      crossResourceMove: false // Cannot drag events between plug loads\n\n    }, {\n      getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\n      // Allow automatic scroll\n      isNonWorkingTimeFunc: this.isNonWorkingTime // Set whole day to \"NonWorkingTime\", so that grey colour is consistent\n\n    });\n\n    _schedulerData.setResources(DemoData.resources); // Set the calendar plug loads to be the plug loads from DemoData\n\n\n    _schedulerData.setEvents(DemoData.events); // Set the calendar events to be the events from DemoData\n\n\n    this.state = {\n      viewModel: _schedulerData\n    };\n    window.mondayCalendar = this;\n  }\n\n  render() {\n    const viewModel = this.state.viewModel;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Scheduler, {\n      schedulerData: viewModel,\n      eventItemClick: this.eventClicked,\n      updateEventStart: this.updateEventStart,\n      updateEventEnd: this.updateEventEnd,\n      moveEvent: this.moveEvent,\n      newEvent: this.newEvent,\n      conflictOccurred: this.conflictOccurred,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    })));\n  } // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\n\n\n}\n\nexport default withDragDropContext(Basic);","map":{"version":3,"sources":["C:/Users/zeyne/OneDrive/Masaüstü/plug_mate/control-interface test/src/Basic.js"],"names":["React","Component","ReactDOM","render","moment","Scheduler","SchedulerData","ViewTypes","DemoData","withDragDropContext","Timepicker","Radio","Checkbox","Basic","constructor","props","isNonWorkingTime","schedulerData","time","getScrollSpecialMoment","startMoment","endMoment","eventClicked","event","okButtonClicked","schedule","document","getElementById","value","start","end","formattedstart","length","formattedend","includes","substring","Number","toString","hasConflict","conflictedEvents","plugload_option","querySelectorAll","repeat_option","querySelector","days_to_loop_over","events","forEach","e","eStart","eEnd","start_for_this","end_for_this","day","resourceId","id","push","plugload","message","current_plugload_conflicted","getSlotById","name","title","alert","updateEventStart","updateEventEnd","rrule","new_start","new_end","new_slot","removeEvent","newFreshId","item","newEvent","bgColor","showPopover","addEvent","setTimeout","click","window","mondayCalendar","setState","viewModel","unmountComponentAtNode","closeButtonClicked","deleteButtonClicked","resourceName","float","textAlign","color","background","marginLeft","slotId","slotName","type","format","anotherFreshId","anotherNewEvent","console","log","newFreshId_plugload","newEvent_plugload","newStart","newEnd","moveEvent","conflictOccurred","action","Day","checkConflict","recurringEventsEnabled","scrollToSpecialMomentEnabled","crossResourceMove","getScrollSpecialMomentFunc","isNonWorkingTimeFunc","setResources","resources","setEvents","state"],"mappings":"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","sourcesContent":["// This is the Monday (2017-12-18) calendar.\n\nimport React, { Component } from \"react\";\nimport ReactDOM, { render } from 'react-dom';\nimport moment from 'moment';\nimport Scheduler, { SchedulerData, ViewTypes } from \"react-big-scheduler\";\nimport DemoData from './Data.js';\nimport withDragDropContext from \"./withDnDContext\";\nimport \"react-big-scheduler/lib/css/style.css\";\nimport Timepicker from './Timepicker';\nimport Radio from './Radio';\nimport Checkbox from './Checkbox';\nimport './styles.css';\n\nclass Basic extends Component {\n  constructor(props) {\n    super(props);\n    let schedulerData = new SchedulerData(\n      \"2017-12-18\",\n      ViewTypes.Day,\n      false,\n      false,\n      {\n        checkConflict: true,\n        recurringEventsEnabled: true,\n        scrollToSpecialMomentEnabled: true, // Allow automatic scroll\n        crossResourceMove: false // Cannot drag events between plug loads\n      }, {\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment, // Allow automatic scroll\n        isNonWorkingTimeFunc: this.isNonWorkingTime // Set whole day to \"NonWorkingTime\", so that grey colour is consistent\n      }\n    );\n    schedulerData.setResources(DemoData.resources); // Set the calendar plug loads to be the plug loads from DemoData\n    schedulerData.setEvents(DemoData.events); // Set the calendar events to be the events from DemoData\n    this.state = {\n      viewModel: schedulerData\n    };\n    window.mondayCalendar = this\n  }\n\n  render() {\n    const { viewModel } = this.state;\n    return (\n      <div>\n        <div>\n          <Scheduler\n            schedulerData={viewModel}\n            eventItemClick={this.eventClicked}\n            updateEventStart={this.updateEventStart}\n            updateEventEnd={this.updateEventEnd}\n            moveEvent={this.moveEvent}\n            newEvent={this.newEvent}\n            conflictOccurred={this.conflictOccurred}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\n  isNonWorkingTime = (schedulerData, time) => {\n    return true;\n  }\n\n  // Automatic scroll to 7 AM\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\n    return moment(\"2017-12-18 07:00:00\");\n  }\n\n  // Function for when event is clicked\n  eventClicked = (schedulerData, event) => {\n    function okButtonClicked() {\n      // Format schedule name\n      var schedule = document.getElementById(\"schedule_name\").value;\n      var start = document.getElementById(\"start\").value;\n      var end = document.getElementById(\"end\").value;\n      var formattedstart = \"\"\n      if (start.length === 7) {\n        formattedstart = \"0\" + start;\n      } else {\n        formattedstart = start;\n      }\n      var formattedend = \"\"\n      if (end.length === 7) {\n        formattedend = \"0\" + end;\n      } else {\n        formattedend = end;\n      }\n\n      // Format start time\n      if (start.length === 7) {\n        start = \"0\" + start;\n      }\n      if (start.includes(\"AM\")) {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Format end time\n      if (end.length === 7) {\n        end = \"0\" + end;\n      }\n      if (end.includes(\"AM\")) {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Checking conflicts\n      var hasConflict = false;\n      var conflictedEvents = [];\n      var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n      var days_to_loop_over = [\"2017-12-18\"]\n      if (repeat_option === \"Every Day\") {\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\n      }\n\n      schedulerData.events.forEach(function(e) {\n        var eStart = e.start;\n        var eEnd = e.end;\n        var start_for_this = \"\"\n        var end_for_this = \"\"\n        for (var day of days_to_loop_over) {\n          if (e.resourceId === event.resourceId) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\n                (end_for_this > eStart && end_for_this <= eEnd) ||\n                (eStart >= start_for_this && eStart < end_for_this) ||\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\n                  hasConflict = true;\n                  conflictedEvents.push(e)\n                }\n          }\n          for (var plugload of plugload_option) {\n            if (e.resourceId === plugload.value) {\n              start_for_this = day + start.substring(10, 19)\n              end_for_this = day + end.substring(10, 19)\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\n                  (eStart >= start_for_this && eStart < end_for_this) ||\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\n                    hasConflict = true;\n                    conflictedEvents.push(e)\n                  }\n            }\n          }\n        }\n      })\n\n      // If there is a conflict, show alert and do nothing. Otherwise, make the changes.\n      if (hasConflict) {\n        var message = \"Conflict occurred for the following events:\\n\"\n        var day = \"\"\n        for (var events of conflictedEvents) {\n          if (event.start.toString().includes(\"2017-12-18\")) {\n            day = \"Monday\"\n          }\n          if (event.start.toString().includes(\"2017-12-19\")) {\n            day = \"Tuesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-20\")) {\n            day = \"Wednesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-21\")) {\n            day = \"Thursday\"\n          }\n          if (event.start.toString().includes(\"2017-12-22\")) {\n            day = \"Friday\"\n          }\n          if (event.start.toString().includes(\"2017-12-23\")) {\n            day = \"Saturday\"\n          }\n          if (event.start.toString().includes(\"2017-12-24\")) {\n            day = \"Sunday\"\n          }\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\n        }\n        alert(message)\n      } else {\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n        schedulerData.updateEventStart(event, start);\n        schedulerData.updateEventEnd(event, end);\n\n\n        var rrule = \"\"\n        if (repeat_option === \"Every Day\") {\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n        } else {\n          var name = event.title;\n          var new_start = event.start\n          var new_end = event.end\n          var new_slot = event.resourceId\n          schedulerData.removeEvent(event);\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title:  name,\n            start: new_start,\n            end: new_end,\n            resourceId: new_slot,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: \"\"\n          };\n          schedulerData.addEvent(newEvent);\n          DemoData.events = schedulerData.events\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\n        }\n\n        for (var plugload of plugload_option) {\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title: event.title,\n            start: moment(start),\n            end: moment(end),\n            resourceId: plugload.value,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: rrule\n          };\n          schedulerData.addEvent(newEvent);\n          DemoData.events = schedulerData.events;\n        }\n\n        if (start >= end || end <= start) {\n          alert(\"Check your timings! Start time should be before end time.\")\n        } else {\n          // Update displayed calendar\n          window.mondayCalendar.setState({\n            viewModel: schedulerData\n          })\n      }\n        // Remove popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n    }\n\n    function closeButtonClicked() {\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n\n    function deleteButtonClicked() {\n      schedulerData.removeEvent(event)\n      DemoData.events = schedulerData.events\n      window.mondayCalendar.setState({\n        viewModel: schedulerData\n      })\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\n    render(<>\n              <div className=\"cover\" id=\"cover\"></div>\n              <div className=\"containerpopup\" id=\"schedule_popup\">\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\n                {(resourceName === \"Desktop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Monitor\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Monitor\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Laptop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Task Lamp\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Fan\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Task Lamp\"\n                />}\n                <br />\n                <br />\n                <div style={{textAlign:\"center\"}}>\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\n                </div>\n\n              </div>\n          </>, document.getElementById(\"popup-container-schedule\"));\n  };\n\n  // Function for when a new event is created by dragging\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\n    let newFreshId = 0;\n    schedulerData.events.forEach(item => {\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\n    });\n\n    let newEvent = {\n      id: newFreshId,\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\n      start: start,\n      end: end,\n      resourceId: slotId,\n      bgColor: \"#47FF38\",\n      showPopover: false,\n      rrule: \"\"\n    };\n    //schedulerData.addEvent(newEvent);\n    //DemoData.events = schedulerData.events\n\n\n    function okButtonClicked() {\n      // Update schedule name\n      var schedule = document.getElementById(\"schedule_name\").value;\n      var start = document.getElementById(\"start\").value;\n      var end = document.getElementById(\"end\").value;\n\n      var formattedstart = \"\"\n      if (start.length === 7) {\n        formattedstart = \"0\" + start;\n      } else {\n        formattedstart = start;\n      }\n      var formattedend = \"\"\n      if (end.length === 7) {\n        formattedend = \"0\" + end;\n      } else {\n        formattedend = end;\n      }\n      // Update start time\n\n      if (start.length === 7) {\n        start = \"0\" + start;\n      }\n      if (start.includes(\"AM\")) {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\n        }\n      }\n\n\n      // Update end time\n\n      if (end.length === 7) {\n        end = \"0\" + end;\n      }\n      if (end.includes(\"AM\")) {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Checking conflicts\n      var hasConflict = false;\n      var conflictedEvents = [];\n      var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n      var days_to_loop_over = [\"2017-12-18\"]\n      if (repeat_option === \"Every Day\") {\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\n      }\n\n      schedulerData.events.forEach(function(e) {\n        var eStart = e.start;\n        var eEnd = e.end;\n        var start_for_this = \"\"\n        var end_for_this = \"\"\n        for (var day of days_to_loop_over) {\n          if (e.resourceId === newEvent.resourceId) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\n                (end_for_this > eStart && end_for_this <= eEnd) ||\n                (eStart >= start_for_this && eStart < end_for_this) ||\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n          }\n          for (var plugload of plugload_option) {\n            if (e.resourceId === plugload.value) {\n              start_for_this = day + start.substring(10, 19)\n              end_for_this = day + end.substring(10, 19)\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\n                  (eStart >= start_for_this && eStart < end_for_this) ||\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\n                    hasConflict = true;\n                    conflictedEvents.push(e);\n                  }\n            }\n          }\n        }\n      })\n\n\n      // If there is a conflict, show alert and do nothing.\n      if (hasConflict) {\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\n        var day = \"\"\n        for (var events of conflictedEvents) {\n          if (event.start.toString().includes(\"2017-12-18\")) {\n            day = \"Monday\"\n          }\n          if (event.start.toString().includes(\"2017-12-19\")) {\n            day = \"Tuesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-20\")) {\n            day = \"Wednesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-21\")) {\n            day = \"Thursday\"\n          }\n          if (event.start.toString().includes(\"2017-12-22\")) {\n            day = \"Friday\"\n          }\n          if (event.start.toString().includes(\"2017-12-23\")) {\n            day = \"Saturday\"\n          }\n          if (event.start.toString().includes(\"2017-12-24\")) {\n            day = \"Sunday\"\n          }\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\n        }\n        alert(message)\n      } else {\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\n\n        schedulerData.updateEventStart(newEvent, start);\n        schedulerData.updateEventEnd(newEvent, end);\n\n        var rrule = \"\"\n        if (repeat_option === \"Every Day\") {\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n        } else {\n          var name = newEvent.title;\n          var new_start = newEvent.start\n          var new_end = newEvent.end\n          var new_slot = newEvent.resourceId\n          schedulerData.removeEvent(newEvent);\n          let anotherFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\n          });\n\n          let anotherNewEvent = {\n            id: anotherFreshId,\n            title:  name,\n            start: new_start,\n            end: new_end,\n            resourceId: new_slot,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: \"\"\n          };\n          schedulerData.addEvent(anotherNewEvent);\n          DemoData.events = schedulerData.events\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\n        }\n\n        for (var plugload of plugload_option) {\n          console.log(plugload)\n          let newFreshId_plugload = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\n          });\n\n          let newEvent_plugload = {\n            id: newFreshId_plugload,\n            title: newEvent.title,\n            start: moment(start),\n            end: moment(end),\n            resourceId: plugload.value,\n            bgColor: \"#47ff38\",\n            showPopover: false,\n            rrule: rrule\n          };\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\n          DemoData.events = schedulerData.events\n        }\n\n        if (start >= end || end <= start) {\n          alert(\"Check your timings! Start time should be before end time.\")\n        } else {\n          // Update displayed calendar\n\n          window.mondayCalendar.setState({\n            viewModel: schedulerData\n          })\n\n      }\n\n        // Remove popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n    }\n\n    function closeButtonClicked() {\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n\n    function deleteButtonClicked() {\n      schedulerData.removeEvent(newEvent)\n      DemoData.events = schedulerData.events\n      window.mondayCalendar.setState({\n        viewModel: schedulerData\n      })\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\n    render(<>\n              <div className=\"cover\" id=\"cover\"></div>\n              <div className=\"containerpopup\" id=\"schedule_popup\">\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\n                {(resourceName === \"Desktop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Monitor\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Monitor\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Laptop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Task Lamp\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Fan\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Task Lamp\"\n                />}\n                <br />\n                <br />\n                <div style={{textAlign:\"center\"}}>\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\n                </div>\n              </div>\n          </>, document.getElementById(\"popup-container-schedule\"));\n  };\n\n  // Function for when the start time is changed by dragging\n  updateEventStart = (schedulerData, event, newStart) => {\n    function okButtonClicked() {\n      // Update schedule name\n      var schedule = document.getElementById(\"schedule_name\").value;\n      var start = document.getElementById(\"start\").value;\n      var end = document.getElementById(\"end\").value;\n\n      var formattedstart = \"\"\n      if (start.length === 7) {\n        formattedstart = \"0\" + start;\n      } else {\n        formattedstart = start;\n      }\n      var formattedend = \"\"\n      if (end.length === 7) {\n        formattedend = \"0\" + end;\n      } else {\n        formattedend = end;\n      }\n\n      // Update start time\n\n      if (start.length === 7) {\n        start = \"0\" + start;\n      }\n      if (start.includes(\"AM\")) {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\n        }\n      }\n\n\n      // Update end time\n\n      if (end.length === 7) {\n        end = \"0\" + end;\n      }\n      if (end.includes(\"AM\")) {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Checking conflicts\n      var hasConflict = false;\n      var conflictedEvents = [];\n      var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n      var days_to_loop_over = [\"2017-12-18\"]\n      if (repeat_option === \"Every Day\") {\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\n      }\n\n      schedulerData.events.forEach(function(e) {\n        var eStart = e.start;\n        var eEnd = e.end;\n        var start_for_this = \"\"\n        var end_for_this = \"\"\n        for (var day of days_to_loop_over) {\n          if (e.resourceId === event.resourceId) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\n                (end_for_this > eStart && end_for_this <= eEnd) ||\n                (eStart >= start_for_this && eStart < end_for_this) ||\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\n                  hasConflict = true;\n                  conflictedEvents.push(e)\n                }\n          }\n          for (var plugload of plugload_option) {\n            if (e.resourceId === plugload.value) {\n              start_for_this = day + start.substring(10, 19)\n              end_for_this = day + end.substring(10, 19)\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\n                  (eStart >= start_for_this && eStart < end_for_this) ||\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\n                    hasConflict = true;\n                    conflictedEvents.push(e)\n                  }\n            }\n          }\n        }\n      })\n\n      // If there is a conflict, show alert and do nothing.\n      if (hasConflict) {\n        var message = \"Conflict occurred for the following events:\\n\";\n        var day = \"\";\n        for (var events of conflictedEvents) {\n          if (event.start.toString().includes(\"2017-12-18\")) {\n            day = \"Monday\";\n          }\n          if (event.start.toString().includes(\"2017-12-19\")) {\n            day = \"Tuesday\";\n          }\n          if (event.start.toString().includes(\"2017-12-20\")) {\n            day = \"Wednesday\";\n          }\n          if (event.start.toString().includes(\"2017-12-21\")) {\n            day = \"Thursday\";\n          }\n          if (event.start.toString().includes(\"2017-12-22\")) {\n            day = \"Friday\";\n          }\n          if (event.start.toString().includes(\"2017-12-23\")) {\n            day = \"Saturday\";\n          }\n          if (event.start.toString().includes(\"2017-12-24\")) {\n            day = \"Sunday\";\n          }\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\n        }\n        alert(message)\n      } else {\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\n\n        schedulerData.updateEventStart(event, start);\n        schedulerData.updateEventEnd(event, end);\n\n        var rrule = \"\"\n        if (repeat_option === \"Every Day\") {\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n        } else {\n          var name = event.title;\n          var new_start = event.start\n          var new_end = event.end\n          var new_slot = event.resourceId\n          schedulerData.removeEvent(event);\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title:  name,\n            start: new_start,\n            end: new_end,\n            resourceId: new_slot,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: \"\"\n          };\n          schedulerData.addEvent(newEvent);\n          DemoData.events = schedulerData.events\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\n        }\n\n        for (var plugload of plugload_option) {\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title: event.title,\n            start: moment(start),\n            end: moment(end),\n            resourceId: plugload.value,\n            bgColor: \"#47ff38\",\n            showPopover: false,\n            rrule: rrule\n          };\n\n          schedulerData.addEvent(newEvent); // Check why new event disappears\n          DemoData.events = schedulerData.events\n        }\n\n        if (start >= end || end <= start) {\n          alert(\"Check your timings! Start time should be before end time.\")\n        } else {\n          // Update displayed calendar\n          window.mondayCalendar.setState({\n            viewModel: schedulerData\n          })\n      }\n\n\n        // Remove popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n    }\n\n    function closeButtonClicked() {\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n\n    function deleteButtonClicked() {\n      schedulerData.removeEvent(event);\n      DemoData.events = schedulerData.events;\n      window.mondayCalendar.setState({\n        viewModel: schedulerData\n      })\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\n    render(<>\n              <div className=\"cover\" id=\"cover\"></div>\n              <div className=\"containerpopup\" id=\"schedule_popup\">\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\n                {(resourceName === \"Desktop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Monitor\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Monitor\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Laptop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Task Lamp\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Fan\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Task Lamp\"\n                />}\n                <br />\n                <br />\n                <div style={{textAlign:\"center\"}}>\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\n                </div>\n              </div>\n          </>, document.getElementById(\"popup-container-schedule\"));\n  };\n\n  // Function for when the end time is changed by dragging\n  updateEventEnd = (schedulerData, event, newEnd) => {\n    function okButtonClicked() {\n      // Update schedule name\n      var schedule = document.getElementById(\"schedule_name\").value;\n      var start = document.getElementById(\"start\").value;\n      var end = document.getElementById(\"end\").value;\n\n      var formattedstart = \"\"\n      if (start.length === 7) {\n        formattedstart = \"0\" + start;\n      } else {\n        formattedstart = start;\n      }\n      var formattedend = \"\"\n      if (end.length === 7) {\n        formattedend = \"0\" + end;\n      } else {\n        formattedend = end;\n      }\n\n      // Update start time\n      if (start.length === 7) {\n        start = \"0\" + start;\n      }\n      if (start.includes(\"AM\")) {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\n        }\n      }\n\n\n      // Update end time\n      if (end.length === 7) {\n        end = \"0\" + end;\n      }\n      if (end.includes(\"AM\")) {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Checking conflicts\n      var hasConflict = false;\n      var conflictedEvents = [];\n      var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n      var days_to_loop_over = [\"2017-12-18\"]\n      if (repeat_option === \"Every Day\") {\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\n      }\n\n      schedulerData.events.forEach(function(e) {\n        var eStart = e.start;\n        var eEnd = e.end;\n        var start_for_this = \"\"\n        var end_for_this = \"\"\n        for (var day of days_to_loop_over) {\n          if (e.resourceId === event.resourceId) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\n                (end_for_this > eStart && end_for_this <= eEnd) ||\n                (eStart >= start_for_this && eStart < end_for_this) ||\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\n                  hasConflict = true;\n                  conflictedEvents.push(e)\n                }\n          }\n          for (var plugload of plugload_option) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (e.resourceId === plugload.value) {\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\n                  (eStart >= start_for_this && eStart < end_for_this) ||\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\n                    hasConflict = true;\n                    conflictedEvents.push(e)\n                  }\n            }\n          }\n        }\n      })\n\n      // If there is a conflict, show alert and do nothing.\n      if (hasConflict) {\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\n        var day = \"\"\n        for (var events of conflictedEvents) {\n          if (event.start.toString().includes(\"2017-12-18\")) {\n            day = \"Monday\"\n          }\n          if (event.start.toString().includes(\"2017-12-19\")) {\n            day = \"Tuesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-20\")) {\n            day = \"Wednesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-21\")) {\n            day = \"Thursday\"\n          }\n          if (event.start.toString().includes(\"2017-12-22\")) {\n            day = \"Friday\"\n          }\n          if (event.start.toString().includes(\"2017-12-23\")) {\n            day = \"Saturday\"\n          }\n          if (event.start.toString().includes(\"2017-12-24\")) {\n            day = \"Sunday\"\n          }\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\n        }\n        alert(message)\n      } else {\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\n\n        schedulerData.updateEventStart(event, start);\n        schedulerData.updateEventEnd(event, end);\n\n        var rrule=\"\"\n        if (repeat_option === \"Every Day\") {\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n        } else {\n          var name = event.title;\n          var new_start = event.start\n          var new_end = event.end\n          var new_slot = event.resourceId\n          schedulerData.removeEvent(event);\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title:  name,\n            start: new_start,\n            end: new_end,\n            resourceId: new_slot,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: \"\"\n          };\n          schedulerData.addEvent(newEvent);\n          DemoData.events = schedulerData.events\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\n        }\n\n        for (var plugload of plugload_option) {\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title: event.title,\n            start: moment(start),\n            end: moment(end),\n            resourceId: plugload.value,\n            bgColor: \"#47ff38\",\n            showPopover: false,\n            rrule: rrule\n          };\n\n          schedulerData.addEvent(newEvent); // Check why new event disappears\n          DemoData.events = schedulerData.events\n        }\n\n        if (start >= end || end <= start) {\n          alert(\"Check your timings! Start time should be before end time.\")\n        } else {\n          // Update displayed calendar\n          window.mondayCalendar.setState({\n            viewModel: schedulerData\n          })\n      }\n\n\n        // Remove popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n    }\n    function closeButtonClicked() {\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\n    }\n\n    function deleteButtonClicked() {\n      schedulerData.removeEvent(event)\n      DemoData.events = schedulerData.events\n      window.mondayCalendar.setState({\n        viewModel: schedulerData\n      })\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\n    render(<>\n              <div className=\"cover\" id=\"cover\"></div>\n              <div className=\"containerpopup\" id=\"schedule_popup\">\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\n                {(resourceName === \"Desktop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Monitor\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Monitor\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Laptop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Task Lamp\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Fan\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Task Lamp\"\n                />}\n                <br />\n                <br />\n                <div style={{textAlign:\"center\"}}>\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\n                </div>\n              </div>\n          </>, document.getElementById(\"popup-container-schedule\"));\n  };\n\n  // Function for when the event is moved by dragging\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\n    function okButtonClicked() {\n      // Update schedule name\n      var schedule = document.getElementById(\"schedule_name\").value;\n      var start = document.getElementById(\"start\").value;\n      var end = document.getElementById(\"end\").value;\n\n      var formattedstart = \"\"\n      if (start.length === 7) {\n        formattedstart = \"0\" + start;\n      } else {\n        formattedstart = start;\n      }\n      var formattedend = \"\"\n      if (end.length === 7) {\n        formattedend = \"0\" + end;\n      } else {\n        formattedend = end;\n      }\n\n\n      // Update start time\n      if (start.length === 7) {\n        start = \"0\" + start;\n      }\n      if (start.includes(\"AM\")) {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (start.substring(0, 2) === \"12\") {\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\n        } else {\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\n        }\n      }\n\n\n      // Update end time\n      if (end.length === 7) {\n        end = \"0\" + end;\n      }\n      if (end.includes(\"AM\")) {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        }\n      } else {\n        if (end.substring(0, 2) === \"12\") {\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\n        } else {\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\n        }\n      }\n\n      // Checking conflicts\n      var hasConflict = false;\n      var conflictedEvents = [];\n      var plugload_option = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\n      var days_to_loop_over = [\"2017-12-18\"]\n      if (repeat_option === \"Every Day\") {\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\n      }\n\n      schedulerData.events.forEach(function(e) {\n        var eStart = e.start;\n        var eEnd = e.end;\n        var start_for_this = \"\"\n        var end_for_this = \"\"\n        for (var day of days_to_loop_over) {\n          if (e.resourceId === event.resourceId) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\n                (end_for_this > eStart && end_for_this <= eEnd) ||\n                (eStart >= start_for_this && eStart < end_for_this) ||\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\n                  hasConflict = true;\n                  conflictedEvents.push(e);\n                }\n          }\n          for (var plugload of plugload_option) {\n            start_for_this = day + start.substring(10, 19)\n            end_for_this = day + end.substring(10, 19)\n            if (e.resourceId === plugload.value) {\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\n                  (eStart >= start_for_this && eStart < end_for_this) ||\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\n                    hasConflict = true;\n                    conflictedEvents.push(e);\n                  }\n            }\n          }\n        }\n      })\n\n      // If there is a conflict, show alert and do nothing.\n      if (hasConflict) {\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\n        var day = \"\"\n        for (var events of conflictedEvents) {\n          if (event.start.toString().includes(\"2017-12-18\")) {\n            day = \"Monday\"\n          }\n          if (event.start.toString().includes(\"2017-12-19\")) {\n            day = \"Tuesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-20\")) {\n            day = \"Wednesday\"\n          }\n          if (event.start.toString().includes(\"2017-12-21\")) {\n            day = \"Thursday\"\n          }\n          if (event.start.toString().includes(\"2017-12-22\")) {\n            day = \"Friday\"\n          }\n          if (event.start.toString().includes(\"2017-12-23\")) {\n            day = \"Saturday\"\n          }\n          if (event.start.toString().includes(\"2017-12-24\")) {\n            day = \"Sunday\"\n          }\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\n        }\n        alert(message)\n      } else {\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\n\n        schedulerData.updateEventStart(event, start);\n        schedulerData.updateEventEnd(event, end);\n\n        var rrule = \"\"\n        if (repeat_option === \"Every Day\") {\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n          rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\n        } else {\n          var name = event.title;\n          var new_start = event.start\n          var new_end = event.end\n          var new_slot = event.resourceId\n          schedulerData.removeEvent(event);\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title:  name,\n            start: new_start,\n            end: new_end,\n            resourceId: new_slot,\n            bgColor: \"#47FF38\",\n            showPopover: false,\n            rrule: \"\"\n          };\n          schedulerData.addEvent(newEvent);\n          DemoData.events = schedulerData.events\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\n        }\n\n        for (var plugload of plugload_option) {\n          let newFreshId = 0;\n          schedulerData.events.forEach(item => {\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\n          });\n\n          let newEvent = {\n            id: newFreshId,\n            title: event.title,\n            start: moment(start),\n            end: moment(end),\n            resourceId: plugload.value,\n            bgColor: \"#47ff38\",\n            showPopover: false,\n            rrule: rrule\n          };\n\n          schedulerData.addEvent(newEvent); // Check why new event disappears\n          DemoData.events = schedulerData.events\n        }\n\n        if (start >= end || end <= start) {\n          alert(\"Check your timings! Start time should be before end time.\")\n        } else {\n          // Update displayed calendar\n          window.mondayCalendar.setState({\n            viewModel: schedulerData\n          })\n      }\n\n\n        // Remove popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n      }\n    }\n    function closeButtonClicked() {\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n    function deleteButtonClicked() {\n      schedulerData.removeEvent(event)\n      DemoData.events = schedulerData.events\n      window.mondayCalendar.setState({\n        viewModel: schedulerData\n      })\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n    }\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\n    render(<>\n              <div className=\"cover\" id=\"cover\"></div>\n              <div className=\"containerpopup\" id=\"schedule_popup\">\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\n                {(resourceName === \"Desktop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Monitor\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Monitor\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Laptop\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Laptop\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Task Lamp\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Task Lamp\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Fan\"\n                />}\n\n                {(resourceName === \"Fan\") && <Checkbox\n                  name=\"Plug Loads\"\n                  option1=\"Desktop\"\n                  option2=\"Monitor\"\n                  option3=\"Laptop\"\n                  option4=\"Task Lamp\"\n                />}\n                <br />\n                <br />\n                <div style={{textAlign:\"center\"}}>\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\n                </div>\n              </div>\n          </>, document.getElementById(\"popup-container-schedule\"));\n  };\n\n  // When a conflict occurs, give alert.\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\n    var message = `This is conflicting with a schedule set for ${slotName}.`\n    alert(message)\n  }\n}\n\nexport default withDragDropContext(Basic);\n"]},"metadata":{},"sourceType":"module"}